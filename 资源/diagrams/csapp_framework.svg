<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1200" height="800" viewBox="0 0 1200 800">
  <!-- 背景 -->
  <rect width="1200" height="800" fill="#f5f5f5"/>
  
  <!-- 标题 -->
  <text x="600" y="50" font-family="Arial" font-size="28" font-weight="bold" text-anchor="middle" fill="#333">深入理解计算机系统 (CSAPP) 框架图</text>
  
  <!-- 书籍章节部分 -->
  <rect x="50" y="100" width="500" height="600" rx="10" ry="10" fill="#e0f7fa" stroke="#006064" stroke-width="2"/>
  <text x="300" y="130" font-family="Arial" font-size="22" font-weight="bold" text-anchor="middle" fill="#006064">书籍章节</text>
  
  <!-- 章节框 -->
  <g>
    <!-- 第1章 -->
    <rect x="80" y="150" width="200" height="70" rx="5" ry="5" fill="#ffffff" stroke="#0097a7" stroke-width="1.5"/>
    <text x="180" y="185" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#00838f">第1章：计算机系统漫游</text>
    
    <!-- 第2章 -->
    <rect x="80" y="230" width="200" height="70" rx="5" ry="5" fill="#ffffff" stroke="#0097a7" stroke-width="1.5"/>
    <text x="180" y="265" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#00838f">第2章：信息的表示和处理</text>
    
    <!-- 第3章 -->
    <rect x="80" y="310" width="200" height="70" rx="5" ry="5" fill="#ffffff" stroke="#0097a7" stroke-width="1.5"/>
    <text x="180" y="345" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#00838f">第3章：程序的机器级表示</text>
    
    <!-- 第4-5章 -->
    <rect x="80" y="390" width="200" height="70" rx="5" ry="5" fill="#ffffff" stroke="#0097a7" stroke-width="1.5"/>
    <text x="180" y="425" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#00838f">第4-5章：处理器架构与优化</text>
    
    <!-- 第6章 -->
    <rect x="80" y="470" width="200" height="70" rx="5" ry="5" fill="#ffffff" stroke="#0097a7" stroke-width="1.5"/>
    <text x="180" y="505" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#00838f">第6章：存储器层次结构</text>
    
    <!-- 第7章 -->
    <rect x="320" y="150" width="200" height="70" rx="5" ry="5" fill="#ffffff" stroke="#0097a7" stroke-width="1.5"/>
    <text x="420" y="185" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#00838f">第7章：链接</text>
    
    <!-- 第8章 -->
    <rect x="320" y="230" width="200" height="70" rx="5" ry="5" fill="#ffffff" stroke="#0097a7" stroke-width="1.5"/>
    <text x="420" y="265" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#00838f">第8章：异常控制流</text>
    
    <!-- 第9章 -->
    <rect x="320" y="310" width="200" height="70" rx="5" ry="5" fill="#ffffff" stroke="#0097a7" stroke-width="1.5"/>
    <text x="420" y="345" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#00838f">第9章：虚拟内存</text>
    
    <!-- 第10章 -->
    <rect x="320" y="390" width="200" height="70" rx="5" ry="5" fill="#ffffff" stroke="#0097a7" stroke-width="1.5"/>
    <text x="420" y="425" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#00838f">第10章：系统级I/O</text>
    
    <!-- 第11章 -->
    <rect x="320" y="470" width="200" height="70" rx="5" ry="5" fill="#ffffff" stroke="#0097a7" stroke-width="1.5"/>
    <text x="420" y="505" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#00838f">第11章：网络编程</text>
    
    <!-- 第12章 -->
    <rect x="200" y="550" width="200" height="70" rx="5" ry="5" fill="#ffffff" stroke="#0097a7" stroke-width="1.5"/>
    <text x="300" y="585" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#00838f">第12章：并发编程</text>
  </g>
  
  <!-- 核心概念 -->
  <rect x="80" y="630" width="440" height="50" rx="5" ry="5" fill="#b2ebf2" stroke="#00838f" stroke-width="1.5"/>
  <text x="300" y="660" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#006064">核心概念：抽象、接口、性能和并发</text>
  
  <!-- 实验部分 -->
  <rect x="650" y="100" width="500" height="600" rx="10" ry="10" fill="#fff8e1" stroke="#ff8f00" stroke-width="2"/>
  <text x="900" y="130" font-family="Arial" font-size="22" font-weight="bold" text-anchor="middle" fill="#ff8f00">实验框架</text>
  
  <!-- 实验项目 -->
  <g>
    <!-- Data Lab -->
    <rect x="680" y="150" width="200" height="60" rx="5" ry="5" fill="#ffffff" stroke="#ffa000" stroke-width="1.5"/>
    <text x="780" y="185" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#ff8f00">Data Lab</text>
    <text x="780" y="205" font-family="Arial" font-size="12" text-anchor="middle" fill="#ff6f00">位操作与整数运算</text>
    
    <!-- Bomb Lab -->
    <rect x="680" y="220" width="200" height="60" rx="5" ry="5" fill="#ffffff" stroke="#ffa000" stroke-width="1.5"/>
    <text x="780" y="255" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#ff8f00">Bomb Lab</text>
    <text x="780" y="275" font-family="Arial" font-size="12" text-anchor="middle" fill="#ff6f00">二进制炸弹拆解</text>
    
    <!-- Attack Lab -->
    <rect x="680" y="290" width="200" height="60" rx="5" ry="5" fill="#ffffff" stroke="#ffa000" stroke-width="1.5"/>
    <text x="780" y="325" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#ff8f00">Attack Lab</text>
    <text x="780" y="345" font-family="Arial" font-size="12" text-anchor="middle" fill="#ff6f00">缓冲区溢出攻击</text>
    
    <!-- Architecture Lab -->
    <rect x="680" y="360" width="200" height="60" rx="5" ry="5" fill="#ffffff" stroke="#ffa000" stroke-width="1.5"/>
    <text x="780" y="395" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#ff8f00">Architecture Lab</text>
    <text x="780" y="415" font-family="Arial" font-size="12" text-anchor="middle" fill="#ff6f00">Y86-64处理器设计</text>
    
    <!-- Cache Lab -->
    <rect x="680" y="430" width="200" height="60" rx="5" ry="5" fill="#ffffff" stroke="#ffa000" stroke-width="1.5"/>
    <text x="780" y="465" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#ff8f00">Cache Lab</text>
    <text x="780" y="485" font-family="Arial" font-size="12" text-anchor="middle" fill="#ff6f00">高速缓存模拟</text>
    
    <!-- Shell Lab -->
    <rect x="920" y="150" width="200" height="60" rx="5" ry="5" fill="#ffffff" stroke="#ffa000" stroke-width="1.5"/>
    <text x="1020" y="185" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#ff8f00">Shell Lab</text>
    <text x="1020" y="205" font-family="Arial" font-size="12" text-anchor="middle" fill="#ff6f00">Unix Shell实现</text>
    
    <!-- Malloc Lab -->
    <rect x="920" y="220" width="200" height="60" rx="5" ry="5" fill="#ffffff" stroke="#ffa000" stroke-width="1.5"/>
    <text x="1020" y="255" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#ff8f00">Malloc Lab</text>
    <text x="1020" y="275" font-family="Arial" font-size="12" text-anchor="middle" fill="#ff6f00">动态内存分配器</text>
    
    <!-- Proxy Lab -->
    <rect x="920" y="290" width="200" height="60" rx="5" ry="5" fill="#ffffff" stroke="#ffa000" stroke-width="1.5"/>
    <text x="1020" y="325" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#ff8f00">Proxy Lab</text>
    <text x="1020" y="345" font-family="Arial" font-size="12" text-anchor="middle" fill="#ff6f00">Web代理服务器</text>
  </g>
  
  <!-- 实验阶段划分 -->
  <rect x="680" y="510" width="440" height="170" rx="5" ry="5" fill="#ffecb3" stroke="#ff8f00" stroke-width="1.5"/>
  <text x="900" y="535" font-family="Arial" font-size="16" font-weight="bold" text-anchor="middle" fill="#ff6f00">实验阶段划分</text>
  
  <text x="700" y="565" font-family="Arial" font-size="14" fill="#e65100">第一阶段：位操作与机器级表示 (Data Lab, Bomb Lab)</text>
  <text x="700" y="595" font-family="Arial" font-size="14" fill="#e65100">第二阶段：处理器架构与高速缓存 (Architecture Lab, Cache Lab)</text>
  <text x="700" y="625" font-family="Arial" font-size="14" fill="#e65100">第三阶段：系统与应用 (Shell Lab, Malloc Lab)</text>
  <text x="700" y="655" font-family="Arial" font-size="14" fill="#e65100">第四阶段：并发与网络 (Proxy Lab)</text>
  
  <!-- 连接线和箭头 -->
  <!-- 书籍到实验的映射关系 -->
  <g>
    <!-- 第2章到Data Lab -->
    <line x1="280" y1="265" x2="680" y2="180" stroke="#424242" stroke-width="1.5" stroke-dasharray="4"/>
    <polygon points="675,180 685,175 685,185" fill="#424242"/>
    
    <!-- 第3章到Bomb Lab和Attack Lab -->
    <line x1="280" y1="345" x2="680" y2="255" stroke="#424242" stroke-width="1.5" stroke-dasharray="4"/>
    <polygon points="675,255 685,250 685,260" fill="#424242"/>
    <line x1="280" y1="345" x2="680" y2="325" stroke="#424242" stroke-width="1.5" stroke-dasharray="4"/>
    <polygon points="675,325 685,320 685,330" fill="#424242"/>
    
    <!-- 第4-5章到Architecture Lab -->
    <line x1="280" y1="425" x2="680" y2="395" stroke="#424242" stroke-width="1.5" stroke-dasharray="4"/>
    <polygon points="675,395 685,390 685,400" fill="#424242"/>
    
    <!-- 第6章到Cache Lab -->
    <line x1="280" y1="505" x2="680" y2="465" stroke="#424242" stroke-width="1.5" stroke-dasharray="4"/>
    <polygon points="675,465 685,460 685,470" fill="#424242"/>
    
    <!-- 第8章到Shell Lab -->
    <line x1="520" y1="265" x2="920" y2="180" stroke="#424242" stroke-width="1.5" stroke-dasharray="4"/>
    <polygon points="915,180 925,175 925,185" fill="#424242"/>
    
    <!-- 第9章到Malloc Lab -->
    <line x1="520" y1="345" x2="920" y2="255" stroke="#424242" stroke-width="1.5" stroke-dasharray="4"/>
    <polygon points="915,255 925,250 925,260" fill="#424242"/>
    
    <!-- 第11-12章到Proxy Lab -->
    <line x1="520" y1="505" x2="920" y2="325" stroke="#424242" stroke-width="1.5" stroke-dasharray="4"/>
    <polygon points="915,325 925,320 925,330" fill="#424242"/>
    <line x1="400" y1="585" x2="920" y2="325" stroke="#424242" stroke-width="1.5" stroke-dasharray="4"/>
    <polygon points="915,325 925,320 925,330" fill="#424242"/>
  </g>
  
  <!-- 学习路径 -->
  <path d="M180,620 Q300,720 420,620 Q540,520 660,620 Q780,720 900,620 Q1020,520 1120,580" 
        stroke="#4caf50" stroke-width="3" fill="none" stroke-dasharray="none"/>
  <polygon points="1115,585 1125,575 1125,585" fill="#4caf50"/>
  <text x="600" y="770" font-family="Arial" font-size="18" font-weight="bold" text-anchor="middle" fill="#2e7d32">学习路径</text>
</svg>
